(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{110:function(t,e,n){t.exports={ContactForm:"ContactForm_ContactForm__BiUNT",label:"ContactForm_label__1WqN_",input:"ContactForm_input__2z1_l",button:"ContactForm_button__1Ou3W"}},111:function(t,e,n){t.exports={Contact:"Contact_Contact__3aa5G",span:"Contact_span__2pr03",button:"Contact_button__y9inV"}},112:function(t,e,n){t.exports={ContactList:"ContactList_ContactList__3ZgdZ",letter:"ContactList_letter__exrtq"}},113:function(t,e,n){t.exports={Filter:"Filter_Filter__2qlur",legend:"Filter_legend__3jPHY",label:"Filter_label__3xGg6",input:"Filter_input__1uF_6"}},114:function(t,e,n){t.exports={Notification:"Notification_Notification__34nHn"}},115:function(t,e,n){t.exports={Section:"Section_Section__3Dniv"}},120:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(14),c=n(19),s=n(3),o=n(35),i=n(36),u=n(38),l=n(37),m=n(17),b=n.n(m),p=n(24),d=n(20),f=n.n(d),j=n(16),h=j.a.fetchItemsRequest,_=j.a.fetchItemsSuccess,x=j.a.fetchItemsError,v=j.a.addItemRequest,O=j.a.addItemSuccess,C=j.a.addItemError,g=j.a.deleteItemRequest,N=j.a.deleteItemSuccess,F=j.a.deleteItemError,w=function(){return function(){var t=Object(p.a)(b.a.mark((function t(e){var n,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(h()),t.prev=1,t.next=4,f.a.get("/contacts");case 4:n=t.sent,a=n.data,e(_(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(x(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},y=function(t){return function(){var e=Object(p.a)(b.a.mark((function e(n){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(v()),e.prev=1,e.next=4,f.a.post("/contacts",t);case 4:a=e.sent,r=a.data,n(O(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(C(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},I=function(t){return function(){var e=Object(p.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(g()),e.prev=1,e.next=4,f.a.delete("/contacts/".concat(t));case 4:n(N(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(F(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},S=function(t){return t.contacts.items},k=function(t){return t.contacts.filter},L=function(t){return t.contacts.loading},A=n(110),q=n.n(A),z=n(1),D=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:""},t.handleInputChange=function(e){var n=e.target,a=n.value,r=n.name;t.setState(Object(s.a)({},r,a))},t.handleFormSubmit=function(e){e.preventDefault();var n=t.state.name,a=t.props.items,r=n.toLowerCase();return a.some((function(t){return t.name.toLowerCase()===r}))?alert("".concat(r.split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(" ")," is already in contacts. Change contact's name or delete old.")):(t.setState({name:"",number:""}),t.props.onSubmit(Object(c.a)(Object(c.a)({},t.state),{},{name:r})))},t}return Object(i.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object(z.jsxs)("form",{onSubmit:this.handleFormSubmit,className:q.a.ContactForm,children:[Object(z.jsxs)("label",{className:q.a.label,children:["Name:",Object(z.jsx)("input",{className:q.a.input,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0,value:e,onChange:this.handleInputChange,placeholder:"Ivanov Ivan (ivanov ivan)"})]}),Object(z.jsxs)("label",{className:q.a.label,children:["Number:",Object(z.jsx)("input",{className:q.a.input,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0,value:n,onChange:this.handleInputChange,placeholder:"099 123 45 67 (099-123-45-67)"})]}),Object(z.jsx)("button",{type:"submit",className:q.a.button,children:"Add Contact"})]})}}]),n}(a.Component),Z=Object(r.b)((function(t){return{items:S(t)}}),(function(t){return{onSubmit:function(e){var n=e.name,a=e.number;return t(y({name:n,number:a}))}}}))(D),E=n(111),J=n.n(E),R=function(t){var e=t.id,n=t.name,a=t.number,r=t.onDelete,c=n.split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(" ");return Object(z.jsxs)("li",{className:J.a.Contact,children:[Object(z.jsxs)("span",{className:J.a.span,children:[c,":"]}),Object(z.jsxs)("span",{className:J.a.span,children:[" ",a]}),Object(z.jsx)("button",{className:J.a.button,type:"button",onClick:function(){return r(e)},children:"Delete"})]})},U=n(112),B=n.n(U),G=Object(r.b)(null,(function(t){return{deleteContact:function(e){return t(I(e))}}}))((function(t){var e=t.contacts,n=t.deleteContact;return Object(z.jsx)("ul",{className:B.a.ContactList,children:e.map((function(t){var e=t.id,a=t.name,r=t.number;return Object(z.jsx)("div",{children:Object(z.jsx)(R,{id:e,name:a,number:r,onDelete:n})},e)}))})})),H=n(113),P=n.n(H),W=Object(r.b)((function(t){return{filter:k(t)}}),(function(t){return{changeFilter:function(e){var n=e.target.value;return t(j.a.changeFilter(n))}}}))((function(t){var e=t.filter,n=t.changeFilter;return Object(z.jsx)("fieldset",{className:P.a.Filter,children:Object(z.jsx)("label",{className:P.a.label,children:Object(z.jsx)("input",{className:P.a.input,type:"text",name:"filter",value:e,onChange:n,placeholder:"Find contacts by name"})})})})),M=n(114),T=n.n(M),V=function(t){var e=t.message;return Object(z.jsx)("p",{className:T.a.Notification,children:e})},Y=n(115),$=n.n(Y),K=function(t){var e=t.title,n=t.children;return Object(z.jsxs)("section",{className:$.a.Section,children:[Object(z.jsx)("h2",{children:e}),n]})};e.default=Object(r.b)((function(t){return{items:S(t),filter:k(t),loading:L(t)}}))((function(t){var e=t.filter,n=t.items,r=t.dispatch,c=t.loading;Object(a.useEffect)((function(){return r(w())}),[]);var s=e.toLowerCase(),o=n.filter((function(t){return t.name.toLowerCase().includes(s)})).sort((function(t,e){return t.name.localeCompare(e.name)}));return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(K,{title:"Phone book",children:Object(z.jsx)(Z,{})}),Object(z.jsxs)(K,{title:"Contacts",children:[c&&Object(z.jsx)("h2",{children:"Loading..."}),n[0]?Object(z.jsx)(W,{}):Object(z.jsx)(V,{message:"No contacts added"}),n[0]&&!o[0]&&Object(z.jsx)(V,{message:"No contact found"}),o[0]&&Object(z.jsx)(G,{contacts:o})]})]})}))}}]);
//# sourceMappingURL=3.6535b62d.chunk.js.map